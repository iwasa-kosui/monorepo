---
theme: kkhs-marp
title: 大規模SaaSにおけるプラットフォームシステム開発の進め方
class: text-center
highlighter: shiki
drawings:
  persist: true
mdc: true

talk:
  date: "2023-10-24"
  event: "SmartHR・カケハシ・リクルートのエンジニアが語る「複雑化するプラットフォーム開発をスムーズに進めるための方法」"
  description: |
    大規模SaaSにおけるプラットフォームシステム開発で、要求分析とアジャイル開発を小さく反復する方法論を紹介します。
  tags:
    - Platform
    - Architecture
  duration: "15min"
  speaker: "岩佐 幸翠"
---

# 大規模SaaSにおける<br />プラットフォームシステム開発の進め方

株式会社カケハシ
プラットフォームドメイン
組織アカウントサービス開発チーム テックリード
岩佐幸翠

---

# 自己紹介

<div class="flex gap-4">

![icon](https://www.kosui.me/_next/image/?url=%2Ficon.png&w=96&q=100)

<div>
<b>岩佐幸翠</b>

2019年にソーシャルゲーム関連企業に新卒入社し認証システムの開発に従事
2022年にカケハシへ入社し組織管理サービスチームのテックリード

</div>
</div>

<div class="flex mt-4">
<div>

##### 組織管理サービス

顧客の組織階層を統一的に提供する
社内プラットフォーム

各プロダクトが権限管理・集計などに利用

</div>
<img src="/組織アカウント管理.svg" style="max-height: 300px" />
</div>

---

# プラットフォーム開発の悲しい現実

多くの社内プラットフォーム(共通基盤)はプロダクト開発チームの期待からズレてしまう
例) 権限管理プラットフォーム

<img src="/conversation.svg" style="max-height: 400px" />

---

# 社内プラットフォームに起きる "ズレ"

<div class="flex mt-8">
<div class="w-[470px] mr-8"><img src="/conversation.svg" class="w-full" /></div>
<div class="w-1/2">

### なぜズレるのか

- 要求分析が不足している
  表層的な要望をそのまま受け入れずに
  潜在的な要求を深掘る必要がある
- デリバリーが遅い
  要求とのズレに早く気付くには
  早く小さくデリバリーして
  早めにフィードバックを得る必要がある

➜ 深い要求分析と高速なデリバリーの両立が必要

</div>
</div>

---

# プラットフォーム開発こそ<br />要求分析とアジャイル開発を小さく反復せよ

<div class="flex mt-8">
<div class="w-[400px] mr-4"><img src="/要求分析とアジャイル開発.svg" class="w-full" /></div>
<div class="w-1/2">

1. 要求分析
  要求のモデリングと評価を繰り返し
  今こそ取り組むべき問題のスコープを絞る
  例) プロダクトは独自ロールで何を実現したい?
1. アジャイル開発
  限定されたスコープの要求を満たす機能を
  迅速に開発してデリバリーする

➜ どう実践する？

</div>
</div>

---

# この発表のねらい

プラットフォーム開発で
**要求分析**と**アジャイル開発**を小さく反復する方法を紹介

<div class="flex mt-8">
<div class="w-[440px] mr-4"><img src="/要求分析とアジャイル開発.svg" class="w-full" /></div>
<div class="w-1/2">

1. 要求を分析する前に
   なぜ社内プラットフォームを開発するのか
1. プラットフォーム開発の要求分析は
   ドメインモデルで対話する
1. プラットフォーム開発のアジャイル開発では
   「テックリードとPdM」ではなく
   「エンジニアPdMとPMM」で役割分担

</div>
</div>

---
layout: section
---

# 要求を分析する前に

改めて、なぜ社内プラットフォームを開発するのか？

---

# プラットフォーム開発の目的のよくある誤解

##### プラットフォーム開発の目的 = 開発工数削減?

プロダクト開発チームの◯◯を共通化し、プロダクト開発チームの開発工数を削減する

<img src="/unify.svg" class="w-[600px] mx-auto my-4" />

...なぜこれが誤解なのか？

---

# プラットフォーム開発の目的 ≠ 開発工数削減

### プロダクト開発チームのミッションに立ち返る

顧客に価値を提供し、対価を得ること
➜ プロダクトにとっての「価値」は常に変化し続ける
➜ プロダクト開発チームは「顧客の価値」に集中したい

<div class="flex">
<div class="w-[400px] mt-6"><img src="/集中したいコンテキスト.svg" class="w-full" /></div>
<div class="w-1/2">

##### カケハシの「組織管理プラットフォーム」の事例

2つのプロダクトが大手法人導入を視野に入れ

- エリアや支社ごとに閲覧スコープを限定したい
- エリアマネージャーのみ操作を許可したい

複雑な権限管理のニーズが高まった
➜ 重要だが本質的な顧客の価値に直結はしない

</div>
</div>

---

# プラットフォーム開発の目的 = 本質的な価値提供に集中させる

##### 目的

プラットフォーム開発チームは、
プロダクト開発チームが<u>本質的な価値提供</u>=<b>コアドメイン</b>に集中できる状態を目指す

<div class="flex">
<div class="mt-4 w-[550px] mr-2"><img src="/ドメインの外部化.svg" class="w-full" /></div>
<div class="w-1/2">

##### 要望

階層的な権限を統一的に管理するサービスの提供

##### 目的

コアドメインとの関連度の低い
組織管理ドメイン・認可ドメインから
プロダクト開発チームを解放する

</div>
</div>

---
layout: section
---

# プラットフォーム開発の要求分析

なぜ「ドメインモデルで対話する」のか

---

# プラットフォーム開発における要求分析の難しさ

<div class="flex">
  <div class="w-1/2">
    <h3>一般的な要求分析と要件定義</h3>
    <img src="/要求分析.svg" style="height: 400px" />
  </div>
  <div class="w-1/2 flex flex-col gap-0">
    <h3>プラットフォーム開発の場合</h3>
    <b>要望をどう表現するか?</b>
    <p>社内プラットフォームは画面ではなく<br/>APIやメッセージキューが利用者とのI/Fだが<br/>エンジニア以外も含めた対話に向かない</p>
    <b>その要望を満たせば価値をもたらすか?</b>
    <p>結果としてプロダクト開発チームが<br/>よりコアドメインへ集中できるようになるか?<br/>コアドメインを分断しないか?を検証したい</p>
    <p>では、どうやって要求を分析する?</p>
  </div>
</div>

---

# プラットフォーム開発の要求分析はドメインモデルで対話する

<div class="flex mb-4">
<div class="w-1/2 flex flex-col gap-0">
<b>例: BIツールの現状</b>
<img src="/現実.svg" />
</div>
<div class="w-1/2">

**ドメインモデルとは**

システムに関連するさまざまなオブジェクト(登場人物)とその関係を示したもの

要望や要件をドメインモデルで表現することで

- 各プロダクト開発チームのPdMも含めて議論に参加できる
- コアドメイン・サブドメインが可視化されその要望の実現が価値を生むか検査しやすい

</div>
</div>

---

# まとめ

- プラットフォーム開発の要求分析は
  ドメインモデルで対話する
- プラットフォーム開発のアジャイル開発では
  「テックリードとPdM」ではなく
  「エンジニアPdMとPMM」で役割分担

---

# おわりに

カケハシのX(Twitter)アカウントのフォローをお願いします!

https://x.com/kakehashiPR
