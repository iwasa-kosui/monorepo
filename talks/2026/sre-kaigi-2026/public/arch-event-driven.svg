<svg viewBox="0 0 340 220" width="340" height="220" xmlns="http://www.w3.org/2000/svg" style="font-size:1px;font-family:ui-sans-serif,system-ui,sans-serif">
  <defs>
    <marker id="arw" markerWidth="7" markerHeight="5" refX="7" refY="2.5" orient="auto" markerUnits="userSpaceOnUse">
      <path d="M0,0 L7,2.5 L0,5" fill="#1a1a2e"/>
    </marker>
  </defs>

  <!-- Producer -->
  <rect x="10" y="10" width="90" height="55" rx="8" fill="#eef2f7" stroke="#1e74bb" stroke-width="1.5"/>
  <text x="55" y="32" text-anchor="middle" fill="#1e74bb" style="font-size:11px;font-weight:700">Producer</text>
  <text x="55" y="50" text-anchor="middle" fill="#64748b" style="font-size:8px">イベント発行</text>

  <!-- Event Broker -->
  <rect x="120" y="10" width="100" height="55" rx="8" fill="#1e74bb" stroke="#1e74bb" stroke-width="1.5"/>
  <text x="170" y="32" text-anchor="middle" fill="#fff" style="font-size:10px;font-weight:700">Event Broker</text>
  <text x="170" y="50" text-anchor="middle" fill="#dbeafe" style="font-size:8px">メッセージキュー</text>

  <!-- Consumer A -->
  <rect x="240" y="10" width="90" height="55" rx="8" fill="#eef2f7" stroke="#1e74bb" stroke-width="1.5"/>
  <text x="285" y="32" text-anchor="middle" fill="#1e74bb" style="font-size:11px;font-weight:700">Consumer A</text>
  <text x="285" y="50" text-anchor="middle" fill="#64748b" style="font-size:8px">イベント処理</text>

  <!-- Consumer B -->
  <rect x="240" y="85" width="90" height="55" rx="8" fill="#eef2f7" stroke="#1e74bb" stroke-width="1.5"/>
  <text x="285" y="107" text-anchor="middle" fill="#1e74bb" style="font-size:11px;font-weight:700">Consumer B</text>
  <text x="285" y="125" text-anchor="middle" fill="#64748b" style="font-size:8px">イベント処理</text>

  <!-- Producer → Broker -->
  <line x1="100" y1="37" x2="120" y2="37" stroke="#1a1a2e" stroke-width="1.5" marker-end="url(#arw)"/>

  <!-- Broker → Consumers -->
  <line x1="220" y1="37" x2="240" y2="37" stroke="#1a1a2e" stroke-width="1.5" marker-end="url(#arw)"/>
  <line x1="220" y1="45" x2="240" y2="105" stroke="#1a1a2e" stroke-width="1.5" marker-end="url(#arw)"/>

  <!-- DB群 -->
  <rect x="240" y="155" width="90" height="35" rx="6" fill="#dbeafe" stroke="#1e74bb" stroke-width="1.2"/>
  <text x="285" y="177" text-anchor="middle" fill="#1e74bb" style="font-size:10px;font-weight:700">各自のDB</text>

  <line x1="285" y1="140" x2="285" y2="155" stroke="#1a1a2e" stroke-width="1.5" marker-end="url(#arw)"/>

  <!-- 特徴ラベル -->
  <text x="170" y="200" text-anchor="middle" fill="#1a1a2e" style="font-size:10px;font-weight:700">非同期・疎結合で高いスケーラビリティ</text>
  <text x="170" y="215" text-anchor="middle" fill="#64748b" style="font-size:9px">結果整合性となり、状態追跡が複雑になる</text>
</svg>
