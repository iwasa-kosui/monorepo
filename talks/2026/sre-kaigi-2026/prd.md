# セッションPRD: 医療SaaS企業を支える共通基盤の挑戦

## 1. 要求（Requirements）

本セッションに対して、主催者・聴講者が持つ要求を以下にまとめる。

### 1.1 主催者の要求

SRE Kaigi 2026の採択セッション傾向から、主催者は以下を期待していると推測される。

| 要求ID | 要求 | 優先度 |
|--------|------|--------|
| R-H1 | **Enabling / 非SREへの展開**: SRE専任でない開発チームが信頼性向上に取り組む再現可能なモデルケースを提示すること | 必須 |
| R-H2 | **具体的な方法論**: 抽象論ではなく、開発チームが実践可能な具体的手法を含むこと | 必須 |
| R-H3 | **ミッションクリティカル領域の知見**: 医療という希少なドメインの経験を共有すること | 推奨 |
| R-H4 | **他業界への適用可能性**: 医療特有の話に閉じず、汎用的なパターンとして抽象化すること | 推奨 |

### 1.2 聴講者の要求（ペルソナ別）

#### ペルソナA: フルスタック開発チームのリード「田中さん」

**プロフィール**:
- 32歳、成長中のSaaS企業でチーム5名をリード
- バックエンド〜フロントエンドまでを担当するフルスタックチーム
- チーム規模的にSRE専任を置いても十分な協働が難しい状況
- 「信頼性は誰かの仕事」ではなく「自分たちの責任」と考え始めている

**ストーリー**:
> 「SREを採用しても、うちのチーム規模だと専任1人では連携が難しい。結局、開発チーム自身が信頼性に責任を持つしかないのでは？でも、具体的に何をどうすれば...」

| 要求ID | 要求 | 優先度 |
|--------|------|--------|
| R-A1 | 開発チームが主体的に信頼性を担う具体的な方法論を示すこと | 必須 |
| R-A2 | ドメインイベント等のトレーサビリティ確保手法と導入コスト感を伝えること | 必須 |
| R-A3 | 「設計を選ぶ」だけでなく「責任を果たす」とは何かを具体化すること | 必須 |

#### ペルソナB: SREイネイブラー「山田さん」

**プロフィール**:
- 35歳、メガベンチャーの横断SREチーム所属
- Embedded SREとして開発チームを支援しているが、知見移転がうまくいかない
- 「結局SREがやった方が早い」状態から脱却したい
- 開発チームが「自分事として信頼性を担う」状態を目指している

**ストーリー**:
> 「ツールや手法を教えても、結局『SREの仕事でしょ』と言われる。開発チームが自分たちの責任として信頼性を捉えた事例があれば、Enablingのゴールが見える」

| 要求ID | 要求 | 優先度 |
|--------|------|--------|
| R-B1 | 開発チームが「責任を担う」とはどういう状態かを具体的に示すこと | 必須 |
| R-B2 | Enablingで伝えるべきマインドセット・方法論を具体化すること | 推奨 |

### 1.3 ユーザーストーリー形式での要求

```
AS A   フルスタック開発チームのリード
I WANT 開発チームが主体的に信頼性を担う具体的な方法論を知りたい
SO THAT 自チームで「設計を選び、責任を果たす」実践ができる
```

```
AS A   SREイネイブラー
I WANT 開発チームが自分事として信頼性を担った事例を知りたい
SO THAT Enablingの目標状態を具体化し、開発チームに示せる
```

```
AS A   SRE Kaigi主催者
I WANT 「開発チームによる信頼性向上」の再現可能なモデルケースを提供したい
SO THAT SRE実践の裾野を広げられる
```

### 1.4 要求のトレーサビリティマトリクス

各要求がどのコンテンツセクションで満たされるかを示す。

| 要求ID | セクション | 具体的な内容 |
|--------|-----------|-------------|
| R-H1 | 背景・結果 | チーム体制の制約と、その中での成果を提示 |
| R-H2 | 方法論 | ドメインイベント、データ連携パターン、サービスベースアーキテクチャ |
| R-H3 | 背景 | 医療SaaSの特性（高可用性・高セキュリティ要件） |
| R-H4 | 各セクション | 「どのチームでも適用可能」な形で抽象化 |
| R-A1 | 方法論 | 開発チームが実践できる具体的手法 |
| R-A2 | 方法論 | ドメインイベント導入の工数感・トレードオフ |
| R-A3 | 結果と教訓 | 「責任を果たす」= 運用・監視・改善の継続 |
| R-B1 | 結果と教訓 | 開発チームが自走できた条件・状態 |
| R-B2 | まとめ | Enabling観点での持ち帰りポイント |

---

## 2. 概要

### セッション情報

| 項目 | 内容 |
|------|------|
| タイトル | 医療SaaS企業を支える共通基盤の挑戦 |
| イベント | SRE Kaigi 2026 |
| 発表日 | 2026/01/31 |
| 形式 | セッション（30分） |
| カテゴリ | Architecture: SREの視点からのシステム設計 |

### 背景と目的

**背景**:
私たちのチームは、チーム全体の規模に対してSRE専任を置いても十分な協働が難しいという制約がありました。そのため、バックエンド〜フロントエンドを担う開発チーム自身が、信頼性向上に主体的に取り組む必要がありました。

**目的**:
同様の制約を持つ開発チームに向けて、「設計を選び、責任を果たす」ことで信頼性を向上させる具体的な方法論を共有する。

### キーメッセージ

> **「開発チームが設計を"自分ごと"として運用し続けることで、SRE専任なしでも信頼性は向上できる」**

---

## 3. 成功指標

### 定量指標

| 指標 | 目標 |
|------|------|
| セッション満足度 | 4.0 / 5.0 以上 |
| X (Twitter) 言及数 | 30件以上 |
| 資料閲覧数（公開後1週間） | 3,000 PV以上 |
| 登壇後の問い合わせ・DM | 5件以上 |

### 定性指標

- 「自分のチームでも実践できそう」という感想が得られる
- 「設計を選ぶだけでなく、責任を果たすことが大事」という気づきを与える
- 開発チームが信頼性を「自分ごと」として捉えるきっかけになる

---

## 4. スコープ（Scope）

### スコープ内（In Scope）

| カテゴリ | 内容 |
|----------|------|
| 背景 | チーム規模の制約、SRE専任との協働が難しい状況 |
| 課題 | 開発効率と信頼性の両立、トレーサビリティの欠如 |
| 方法論 | ドメインイベントの永続化、データ連携パターンの選択基準（API/イベント/データ基盤）、サービスベースアーキテクチャ |
| 責任を果たすとは | 設計の意図を理解し、運用・監視・改善を継続すること |
| 結果と教訓 | 障害調査時間短縮、開発効率向上、失敗から学んだこと |

### スコープ外（Out of Scope）

| カテゴリ | 理由 |
|----------|------|
| 認証基盤の統一（OIDC, MFA, 監査ログ, RLS） | 特定ドメインの話になり汎用性が低い |
| 組織マネジメント・プロセス改善 | 技術セッションの焦点を維持するため |
| 特定ツール・ベンダーの詳細比較 | 汎用性を確保するため |
| 「SREを雇う前にやるべきこと」的な表現 | 背景は制約であり、上から目線は不適切 |

---

## 5. コンテンツ要件

### アウトライン（30分）

| セクション | 時間 | 内容 |
|------------|------|------|
| **導入** | 3分 | 自己紹介、セッションの目的、キーメッセージ提示 |
| **背景** | 5分 | チーム規模の制約、なぜ開発チームが信頼性を担う必要があったか |
| **課題** | 4分 | 開発効率と信頼性の両立、トレーサビリティの欠如 |
| **方法論** | 12分 | ドメインイベント、データ連携パターン、サービスベースアーキテクチャ |
| **結果と教訓** | 4分 | 成果、失敗から学んだこと、「責任を果たす」とは何か |
| **まとめ** | 2分 | キーメッセージの再提示、持ち帰りポイント |

### キーメッセージの配置

| タイミング | メッセージ |
|------------|-----------|
| 導入 | 「開発チームが設計を"自分ごと"として運用し続けることで、信頼性は向上できる」 |
| 背景 | 「制約があったからこそ、開発チーム自身が責任を持つ道を選んだ」 |
| 方法論 | 「設計を選ぶだけでなく、その意図を理解し運用し続けることが重要」 |
| まとめ | 「アーキテクチャを選び、育て、責任を果たす。それが開発チームによる信頼性向上の本質」 |

### 必須コンテンツ

#### 図解・ダイアグラム

1. **全体アーキテクチャ図**: 共通基盤とプロダクトの関係
2. **データ連携パターン比較表**: データ基盤 vs API連携 vs イベント連携の選択基準
3. **ドメインイベントの流れ図**: イベント生成から永続化、活用までの流れ
4. **「責任を果たす」サイクル図**: 設計→運用→監視→改善のサイクル

#### 具体的な数値・事例

| 項目 | Before | After |
|------|--------|-------|
| 障害発生時の原因特定時間 | X時間 | Y時間（短縮） |
| チーム規模 | 正社員1名 + 業務委託2-3名 | - |

### オプショナルコンテンツ（時間があれば）

- データ連携パターンの詳細な選択フローチャート
- 今後の展望

---

## 6. 制約条件

### 時間制約

- 発表時間: 30分（質疑応答は別枠の場合あり）
- 準備期間: 〜2026/01/31

### 技術的制約

- 守秘義務: 具体的な数値・内部システム名は抽象化が必要
- スライド形式: イベント指定のフォーマットに準拠

### 表現上の制約

- 専門用語の説明: ドメインイベント、サービスベースアーキテクチャは初見でも理解できる説明を付与
- ベンダー中立: 特定ツールの宣伝にならないよう配慮
- 謙虚な姿勢: 「制約の中での工夫」として語り、上から目線を避ける

---

## 7. リスクと対策

| リスク | 影響度 | 対策 |
|--------|--------|------|
| 時間超過 | 高 | 各セクションの時間配分を厳守、リハーサルで計測 |
| 内容が抽象的すぎる | 高 | 具体的なコード例・設定例をスライドに含める |
| 医療特有の話に偏る | 中 | 「どのチームでも適用可能」な形で抽象化を徹底 |
| SREコミュニティに響かない | 中 | ペルソナBの視点を意識し、Enabling文脈での価値を強調 |
| 技術的な質問に答えられない | 低 | 想定Q&Aを事前に準備 |

---

## 8. 想定Q&A

### 方法論に関する質問

**Q: ドメインイベントの導入コストはどの程度？**
> A: 既存コードへの影響を最小限に抑えるため、〜というアプローチを取った。初期導入は〜程度の工数。

**Q: データ連携パターンはどう使い分ける？**
> A: 即時性が必要ならAPI/イベント、耐障害性・一貫性重視ならデータ基盤。ユースケースに応じた使い分けが重要。

**Q: サービスベースアーキテクチャとマイクロサービスの違いは？**
> A: 単一DBを共有し、サービス間通信を原則禁止。強い整合性が必要な場合に有効。

### 組織・チームに関する質問

**Q: 開発チームだけで本当に信頼性を担保できる？**
> A: 完全ではない。SREチームとの連携（オブザーバビリティ基盤、インシデント対応プロセス）は別途存在。本セッションは「開発チームが主体的にできること」の範囲に限定。

**Q: どうやって開発チームに「自分ごと」として捉えてもらった？**
> A: チーム規模の制約という背景を共有し、「自分たちがやるしかない」という認識を持ってもらうことから始まった。

---

## 9. 参考資料

### 公開済み資料

- [カケハシ開発者ブログ](https://kakehashi-dev.hatenablog.com/entry/2024/09/19/110000)
- [Findy Tools インタビュー](https://findy-tools.io/companies/kakehashi/91/97)

### 関連セッション（SRE Kaigi 2026）

- 「Embedded SREの終わりを設計する」- Enabling完了後の状態として参照
- 「制約が導く迷わない設計」- 設計原則の観点で関連

---

## 改訂履歴

| 日付 | バージョン | 変更内容 |
|------|-----------|----------|
| 2026/01/17 | 1.0 | 初版作成 |
| 2026/01/17 | 2.0 | PRレビューを反映し戦略を再構築。認証基盤固有の話を削除、ペルソナを2つに絞り込み、キーメッセージを「責任を果たす」観点で再定義 |
