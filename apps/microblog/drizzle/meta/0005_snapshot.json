{
  "id": "14f568b1-2088-46f1-a051-90e4bdaa1a23",
  "prevId": "d95517d1-be4d-4784-94a4-89367b7e70ee",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.actors": {
      "name": "actors",
      "schema": "",
      "columns": {
        "actorId": {
          "name": "actorId",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "uri": {
          "name": "uri",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "logoUri": {
          "name": "logoUri",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "inboxUrl": {
          "name": "inboxUrl",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "actors_uri_unique": {
          "name": "actors_uri_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uri"
          ]
        },
        "actors_inboxUrl_unique": {
          "name": "actors_inboxUrl_unique",
          "nullsNotDistinct": false,
          "columns": [
            "inboxUrl"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.domain_events": {
      "name": "domain_events",
      "schema": "",
      "columns": {
        "eventId": {
          "name": "eventId",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "aggregateId": {
          "name": "aggregateId",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "aggregateName": {
          "name": "aggregateName",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "aggregateState": {
          "name": "aggregateState",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "eventName": {
          "name": "eventName",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "eventPayload": {
          "name": "eventPayload",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "occurredAt": {
          "name": "occurredAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.follows": {
      "name": "follows",
      "schema": "",
      "columns": {
        "followerId": {
          "name": "followerId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "followingId": {
          "name": "followingId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "follows_followerId_actors_actorId_fk": {
          "name": "follows_followerId_actors_actorId_fk",
          "tableFrom": "follows",
          "tableTo": "actors",
          "columnsFrom": [
            "followerId"
          ],
          "columnsTo": [
            "actorId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "follows_followingId_actors_actorId_fk": {
          "name": "follows_followingId_actors_actorId_fk",
          "tableFrom": "follows",
          "tableTo": "actors",
          "columnsFrom": [
            "followingId"
          ],
          "columnsTo": [
            "actorId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "follower_following_unique": {
          "name": "follower_following_unique",
          "nullsNotDistinct": false,
          "columns": [
            "followerId",
            "followingId"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.keys": {
      "name": "keys",
      "schema": "",
      "columns": {
        "keyId": {
          "name": "keyId",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "privateKey": {
          "name": "privateKey",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "publicKey": {
          "name": "publicKey",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "keys_userId_users_userId_fk": {
          "name": "keys_userId_users_userId_fk",
          "tableFrom": "keys",
          "tableTo": "users",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "userId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_key_type_unique": {
          "name": "user_key_type_unique",
          "nullsNotDistinct": false,
          "columns": [
            "userId",
            "type"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.likes": {
      "name": "likes",
      "schema": "",
      "columns": {
        "likeId": {
          "name": "likeId",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "actorId": {
          "name": "actorId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "objectUri": {
          "name": "objectUri",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "likes_actorId_actors_actorId_fk": {
          "name": "likes_actorId_actors_actorId_fk",
          "tableFrom": "likes",
          "tableTo": "actors",
          "columnsFrom": [
            "actorId"
          ],
          "columnsTo": [
            "actorId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "actor_object_unique": {
          "name": "actor_object_unique",
          "nullsNotDistinct": false,
          "columns": [
            "actorId",
            "objectUri"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.likes_v2": {
      "name": "likes_v2",
      "schema": "",
      "columns": {
        "likeId": {
          "name": "likeId",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "actorId": {
          "name": "actorId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "objectUri": {
          "name": "objectUri",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "likeActivityUri": {
          "name": "likeActivityUri",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "likes_v2_actorId_actors_actorId_fk": {
          "name": "likes_v2_actorId_actors_actorId_fk",
          "tableFrom": "likes_v2",
          "tableTo": "actors",
          "columnsFrom": [
            "actorId"
          ],
          "columnsTo": [
            "actorId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "likes_v2_likeActivityUri_unique": {
          "name": "likes_v2_likeActivityUri_unique",
          "nullsNotDistinct": false,
          "columns": [
            "likeActivityUri"
          ]
        },
        "likes_v2_actor_object_unique": {
          "name": "likes_v2_actor_object_unique",
          "nullsNotDistinct": false,
          "columns": [
            "actorId",
            "objectUri"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.local_actors": {
      "name": "local_actors",
      "schema": "",
      "columns": {
        "actorId": {
          "name": "actorId",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "local_actors_actorId_actors_actorId_fk": {
          "name": "local_actors_actorId_actors_actorId_fk",
          "tableFrom": "local_actors",
          "tableTo": "actors",
          "columnsFrom": [
            "actorId"
          ],
          "columnsTo": [
            "actorId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "local_actors_userId_users_userId_fk": {
          "name": "local_actors_userId_users_userId_fk",
          "tableFrom": "local_actors",
          "tableTo": "users",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "userId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "local_actor_user_unique": {
          "name": "local_actor_user_unique",
          "nullsNotDistinct": false,
          "columns": [
            "userId"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.local_posts": {
      "name": "local_posts",
      "schema": "",
      "columns": {
        "postId": {
          "name": "postId",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "local_posts_postId_posts_postId_fk": {
          "name": "local_posts_postId_posts_postId_fk",
          "tableFrom": "local_posts",
          "tableTo": "posts",
          "columnsFrom": [
            "postId"
          ],
          "columnsTo": [
            "postId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "local_posts_userId_users_userId_fk": {
          "name": "local_posts_userId_users_userId_fk",
          "tableFrom": "local_posts",
          "tableTo": "users",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "userId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_likes": {
      "name": "notification_likes",
      "schema": "",
      "columns": {
        "notificationId": {
          "name": "notificationId",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "likerActorId": {
          "name": "likerActorId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "likedPostId": {
          "name": "likedPostId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_likes_notificationId_notifications_notificationId_fk": {
          "name": "notification_likes_notificationId_notifications_notificationId_fk",
          "tableFrom": "notification_likes",
          "tableTo": "notifications",
          "columnsFrom": [
            "notificationId"
          ],
          "columnsTo": [
            "notificationId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notification_likes_likerActorId_actors_actorId_fk": {
          "name": "notification_likes_likerActorId_actors_actorId_fk",
          "tableFrom": "notification_likes",
          "tableTo": "actors",
          "columnsFrom": [
            "likerActorId"
          ],
          "columnsTo": [
            "actorId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notification_likes_likedPostId_posts_postId_fk": {
          "name": "notification_likes_likedPostId_posts_postId_fk",
          "tableFrom": "notification_likes",
          "tableTo": "posts",
          "columnsFrom": [
            "likedPostId"
          ],
          "columnsTo": [
            "postId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "notificationId": {
          "name": "notificationId",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "recipientUserId": {
          "name": "recipientUserId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "isRead": {
          "name": "isRead",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notifications_recipientUserId_users_userId_fk": {
          "name": "notifications_recipientUserId_users_userId_fk",
          "tableFrom": "notifications",
          "tableTo": "users",
          "columnsFrom": [
            "recipientUserId"
          ],
          "columnsTo": [
            "userId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.post_images": {
      "name": "post_images",
      "schema": "",
      "columns": {
        "imageId": {
          "name": "imageId",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "postId": {
          "name": "postId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "altText": {
          "name": "altText",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "post_images_postId_posts_postId_fk": {
          "name": "post_images_postId_posts_postId_fk",
          "tableFrom": "post_images",
          "tableTo": "posts",
          "columnsFrom": [
            "postId"
          ],
          "columnsTo": [
            "postId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.posts": {
      "name": "posts",
      "schema": "",
      "columns": {
        "postId": {
          "name": "postId",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "actorId": {
          "name": "actorId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "deletedAt": {
          "name": "deletedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "posts_actorId_actors_actorId_fk": {
          "name": "posts_actorId_actors_actorId_fk",
          "tableFrom": "posts",
          "tableTo": "actors",
          "columnsFrom": [
            "actorId"
          ],
          "columnsTo": [
            "actorId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.remote_actors": {
      "name": "remote_actors",
      "schema": "",
      "columns": {
        "actorId": {
          "name": "actorId",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "remote_actors_actorId_actors_actorId_fk": {
          "name": "remote_actors_actorId_actors_actorId_fk",
          "tableFrom": "remote_actors",
          "tableTo": "actors",
          "columnsFrom": [
            "actorId"
          ],
          "columnsTo": [
            "actorId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.remote_posts": {
      "name": "remote_posts",
      "schema": "",
      "columns": {
        "postId": {
          "name": "postId",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "uri": {
          "name": "uri",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "remote_posts_postId_posts_postId_fk": {
          "name": "remote_posts_postId_posts_postId_fk",
          "tableFrom": "remote_posts",
          "tableTo": "posts",
          "columnsFrom": [
            "postId"
          ],
          "columnsTo": [
            "postId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "remote_posts_uri_unique": {
          "name": "remote_posts_uri_unique",
          "nullsNotDistinct": false,
          "columns": [
            "uri"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "sessionId": {
          "name": "sessionId",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "expires": {
          "name": "expires",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sessions_userId_users_userId_fk": {
          "name": "sessions_userId_users_userId_fk",
          "tableFrom": "sessions",
          "tableTo": "users",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "userId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_passwords": {
      "name": "user_passwords",
      "schema": "",
      "columns": {
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "algorithm": {
          "name": "algorithm",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "parallelism": {
          "name": "parallelism",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tagLength": {
          "name": "tagLength",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "memory": {
          "name": "memory",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "passes": {
          "name": "passes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "nonceHex": {
          "name": "nonceHex",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tagHex": {
          "name": "tagHex",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_passwords_userId_users_userId_fk": {
          "name": "user_passwords_userId_users_userId_fk",
          "tableFrom": "user_passwords",
          "tableTo": "users",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "userId"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "userId": {
          "name": "userId",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_username_unique": {
          "name": "users_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}
